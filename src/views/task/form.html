{% extends '../base.html' %}

{% block head %}<title>Task</title>{% end %}

{% block body %}

    <!-- Formulario de Edição-->
    {% if task %}
        <div>
            <h2 class="display-5 fw-bold my-5 text-center">Editar Tarefa</h2>

            <div class="row justify-content-center">

                <div class="col-12 col-md-6 col-lg-4">

                    <form action="/task/update/{{ task.id }}" method="POST" autocomplete="off">

                        <div class="mb-3 mt-3">
                            <label for="description" class="form-label">Descrição</label>
                            <input class="form-control" type="text" name="description" id="description" value="{{ task.description }}" required autofocus>
                        </div>

                        <div class="mb-3 mt-3">
                            <label for="term" class="form-label">Prazo</label>
                            <input class="form-control" type="date" name="term" id="term" value="{{ task.term[:10] }}" required>
                        </div>

                        <div class="d-flex justify-content-between mb-3 mt-5">
                            <button type="submit" class="btn btn-primary btn-sm flex-grow-0"><i class="bi bi-plus-circle me-2"></i> SALVAR</button>
                            <a class="btn btn-danger btn-sm flex-grow-0" href="/task/delete/{{ task.id }}"><i class="bi bi-x-circle me-2"></i> ARQUIVAR</a>
                        </div>

                    </form>

                </div>

            </div>

        </div>
        
    <!-- Formulario de Criação-->
    {% else %}
        <div>

            <h2 class="display-5 fw-bold my-5 text-center">Adicionar Tarefa</h2>

            <div class="row justify-content-center">

                <div class="col-12 col-md-6 col-lg-4">

                    <form action="/task/create" method="POST" autocomplete="off">

                        <div class="mb-3 mt-3">
                            <label for="description" class="form-label">Descrição</label>
                            <input class="form-control" type="text" name="description" id="description" placeholder="Descrição da tarefa" required autofocus>
                        </div>

                        <div class="mb-3 mt-3">
                            <label for="term" class="form-label">Prazo</label>
                            <input class="form-control" type="date" name="term" id="term" required>
                        </div>

                        <button type="submit" class="btn btn-primary my-4 btn-sm"><i class="bi bi-plus-circle me-2"></i> Salvar</button>

                    </form>

                </div>

            </div>

        </div>
    {% end %}

{% end %}